// Push argument[0] onto stack to preserve its value
push argument 0
// Duplicate the value for comparison and processing
push argument 0
// Check if x < 0
push constant 0
lt
if-goto NEGATIVE
goto NON_NEGATIVE

label NEGATIVE
// x < 0, set argument[2] = 1
push constant 1
pop argument 2

// Now check if x == -32768 (overflow if we negate this)
push argument 0
push constant 32768
eq
if-goto OVERFLOW

// Compute -x
push constant 0
push argument 0
sub
pop argument 1

// No overflow
push constant 0
pop argument 3
goto END

label OVERFLOW
// Cannot compute absolute value
push constant 1
pop argument 3
// Default value in argument[1] (maybe just store 0)
push constant 0
pop argument 1
goto END

label NON_NEGATIVE
// x >= 0, set argument[2] = 0
push constant 0
pop argument 2
// Copy x to argument[1]
push argument 0
pop argument 1
// No overflow
push constant 0
pop argument 3

label END
// Done









